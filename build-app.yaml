# Google Cloud App Engine configuration for Pokemon Guess Game
runtime: nodejs20

env_variables:
  NODE_ENV: "production"
  SESSION_SECRET: "pokemon-game-secure-session-key-2024"

# Automatic scaling
automatic_scaling:
  min_instances: 0
  max_instances: 1

# Static file handlers
handlers:
  # API routes - handle server-side logic
  - url: /api/.*
    script: auto

  # Static assets
  - url: /static
    static_dir: static
    
  # Other static files (favicon, manifest, etc.)
  - url: /(.*\.(js|css|png|jpg|jpeg|gif|ico|svg|json|txt))$
    static_files: \1
    upload: .*\.(js|css|png|jpg|jpeg|gif|ico|svg|json|txt)$

  # React Router - serve index.html for all other routes
  - url: /.*
    static_files: index.html
    upload: index.html